(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Product"],{"159b":function(t,a,e){var i=e("da84"),r=e("fdbc"),n=e("17c2"),c=e("9112");for(var u in r){var o=i[u],s=o&&o.prototype;if(s&&s.forEach!==n)try{c(s,"forEach",n)}catch(d){s.forEach=n}}},"17c2":function(t,a,e){"use strict";var i=e("b727").forEach,r=e("a640"),n=e("ae40"),c=r("forEach"),u=n("forEach");t.exports=c&&u?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,a,e){"use strict";var i=e("23e7"),r=e("17c2");i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"494b":function(t,a,e){"use strict";var i=e("ff28"),r=e.n(i);r.a},"4b4a":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"product-details-count"},[e("button",{staticClass:"btn btn-right",class:{disabled:1===t.quantity},on:{click:function(a){return t.calculation(t.data,t.quantity-1)}}},[t._v(" - ")]),e("input",{staticClass:"text-center btn-input",attrs:{type:"text",maxlength:"3"},domProps:{value:t.quantity},on:{change:t.changeValue}}),e("button",{staticClass:"btn btn-left",class:{disabled:999===t.quantity},on:{click:function(a){return t.calculation(t.data,t.quantity+1)}}},[t._v(" + ")])])},r=[],n=(e("a9e3"),{name:"InputNumber",props:{quantity:{type:Number,required:!0},data:{type:Object,required:!0}},methods:{calculation:function(t,a){this.$emit("calculation",{product:t,quantity:a})},changeValue:function(t){if(Number(t.target.value)<1){var a=t;a.target.value=1,this.$emit("changeValue",{quantity:t,product:this.data})}else this.$emit("changeValue",{quantity:t,product:this.data})}}}),c=n,u=e("2877"),o=Object(u["a"])(c,i,r,!1,null,null,null);a["a"]=o.exports},5899:function(t,a){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,a,e){var i=e("1d80"),r=e("5899"),n="["+r+"]",c=RegExp("^"+n+n+"*"),u=RegExp(n+n+"*$"),o=function(t){return function(a){var e=String(i(a));return 1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e}};t.exports={start:o(1),end:o(2),trim:o(3)}},7156:function(t,a,e){var i=e("861d"),r=e("d2bb");t.exports=function(t,a,e){var n,c;return r&&"function"==typeof(n=a.constructor)&&n!==e&&i(c=n.prototype)&&c!==e.prototype&&r(t,c),t}},"7db0":function(t,a,e){"use strict";var i=e("23e7"),r=e("b727").find,n=e("44d2"),c=e("ae40"),u="find",o=!0,s=c(u);u in[]&&Array(1)[u]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!s},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(u)},a434:function(t,a,e){"use strict";var i=e("23e7"),r=e("23cb"),n=e("a691"),c=e("50c4"),u=e("7b0b"),o=e("65f0"),s=e("8418"),d=e("1dde"),l=e("ae40"),f=d("splice"),p=l("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,g=Math.min,b=9007199254740991,y="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,a){var e,i,d,l,f,p,m=u(this),v=c(m.length),C=r(t,v),q=arguments.length;if(0===q?e=i=0:1===q?(e=0,i=v-C):(e=q-2,i=g(h(n(a),0),v-C)),v+e-i>b)throw TypeError(y);for(d=o(m,i),l=0;l<i;l++)f=C+l,f in m&&s(d,l,m[f]);if(d.length=i,e<i){for(l=C;l<v-i;l++)f=l+i,p=l+e,f in m?m[p]=m[f]:delete m[p];for(l=v;l>v-i+e;l--)delete m[l-1]}else if(e>i)for(l=v-i;l>C;l--)f=l+i-1,p=l+e-1,f in m?m[p]=m[f]:delete m[p];for(l=0;l<e;l++)m[l+C]=arguments[l+2];return m.length=v-i+e,d}})},a9e3:function(t,a,e){"use strict";var i=e("83ab"),r=e("da84"),n=e("94ca"),c=e("6eeb"),u=e("5135"),o=e("c6b6"),s=e("7156"),d=e("c04e"),l=e("d039"),f=e("7c73"),p=e("241c").f,h=e("06cf").f,g=e("9bf2").f,b=e("58a8").trim,y="Number",m=r[y],v=m.prototype,C=o(f(v))==y,q=function(t){var a,e,i,r,n,c,u,o,s=d(t,!1);if("string"==typeof s&&s.length>2)if(s=b(s),a=s.charCodeAt(0),43===a||45===a){if(e=s.charCodeAt(2),88===e||120===e)return NaN}else if(48===a){switch(s.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+s}for(n=s.slice(2),c=n.length,u=0;u<c;u++)if(o=n.charCodeAt(u),o<48||o>r)return NaN;return parseInt(n,i)}return+s};if(n(y,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var S,E=function(t){var a=arguments.length<1?0:t,e=this;return e instanceof E&&(C?l((function(){v.valueOf.call(e)})):o(e)!=y)?s(new m(q(a)),e,E):q(a)},N=i?p(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),L=0;N.length>L;L++)u(m,S=N[L])&&!u(E,S)&&g(E,S,h(m,S));E.prototype=v,v.constructor=E,c(r,y,E)}},bb2f:function(t,a,e){var i=e("d039");t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},dca8:function(t,a,e){var i=e("23e7"),r=e("bb2f"),n=e("d039"),c=e("861d"),u=e("f183").onFreeze,o=Object.freeze,s=n((function(){o(1)}));i({target:"Object",stat:!0,forced:s,sham:!r},{freeze:function(t){return o&&c(t)?o(u(t)):t}})},de64:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"container product-details"},[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t.isLoading?t._e():e("transition-group",{staticClass:"row",attrs:{name:"page",appear:"",tag:"div"}},[e("div",{key:t.$route.name,staticClass:"col-md-6"},[e("div",{staticClass:"product-details-pic"},[e("img",{staticClass:"w-100 h-100",attrs:{src:t.product.imageUrl,alt:""}})])]),e("ProductDetails",{key:t.$route.fullPath,attrs:{data:t.product,quantity:t.quantity,cart:t.cart},on:{"update:quantity":function(a){t.quantity=a},addCart:t.addCartHandler,calculation:t.calculation}})],1)],1)},r=[],n=(e("7db0"),e("4160"),e("a434"),e("dca8"),e("159b"),e("7c15")),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"product-details-content"},[e("span",{staticClass:"py-3 text-primary"},[t._v("產品專區/"+t._s(t.data.category))]),e("h1",{staticClass:"py-3"},[t._v(" "+t._s(t.data.title)+" ")]),e("p",[t._v(t._s(t.data.description))])]),e("div",{staticClass:"product-details-function mb-5"},[e("div",{staticClass:"product-details-price mt-3"},[e("span",{staticClass:"mr-5"},[t._v("售價： "+t._s(t.data.price)+" ")]),e("InputNumber",{attrs:{quantity:t.bindingValue,data:t.data},on:{calculation:t.calculation,changeValue:t.changeValue}})],1),e("div",{staticClass:"product-details-cart text-left mt-3"},[e("button",{staticClass:"btn mr-2",class:{disabled:999===t.quantity},on:{click:function(a){return t.$emit("addCart",t.data,t.bindingValue)}}},[t._v(" 加到購物車 ")])])])])},u=[],o=(e("a9e3"),e("4b4a")),s={name:"ProductDetails",components:{InputNumber:o["a"]},props:{data:{type:Object,required:!0},quantity:{type:Number,required:!0},cart:{type:Array,required:!0}},computed:{bindingValue:{get:function(){return this.quantity},set:function(t){this.$emit("update:quantity",t)}}},methods:{calculation:function(t){this.$emit("calculation",{product:t.product,quantity:t.quantity})},addCart:function(t,a){this.bindingValue=a,this.cart.push({product:{id:t.id,title:t.title,category:t.category,content:t.content,enabled:t.enabled,imageUrl:t.imageUrl,origin_price:t.origin_price,price:t.price,unit:t.unit},quantity:a}),localStorage.setItem("cart",JSON.stringify(this.cart))},editCart:function(t){var a=this;this.cart.forEach((function(e,i){if(e.product.id===t.product.id){var r=e;r.quantity=Number(t.quantity.target.value),a.bindingValue=Number(t.quantity.target.value),a.cart.splice(i,1,e)}})),localStorage.setItem("cart",JSON.stringify(this.cart))},changeValue:function(t){var a=this.cart.find((function(a){return a.product.id===t.product.id}));console.log(a),a?this.editCart(t):this.addCart(t.product,Number(t.quantity.target.value))}}},d=s,l=(e("494b"),e("2877")),f=Object(l["a"])(d,c,u,!1,null,null,null),p=f.exports,h={name:"Product",components:{ProductDetails:p},data:function(){return{product:{},isLoading:!1,quantity:1,cart:[]}},mounted:function(){this.getProduct()},methods:{calculation:function(t){var a=this;this.cart.forEach((function(e,i){if(e.product.id===t.product.id){var r=e;r.quantity=t.quantity,a.quantity=t.quantity,a.cart.splice(i,1,e),localStorage.setItem("cart",JSON.stringify(a.cart))}}));var e=this.cart.find((function(a){return a.product.id===t.product.id}));e||this.addCart(t.product)},addCart:function(t){this.cart.push({product:{id:t.id,title:t.title,category:t.category,content:t.content,enabled:t.enabled,imageUrl:t.imageUrl,origin_price:t.origin_price,price:t.price,unit:t.unit},quantity:2}),this.quantity=2,localStorage.setItem("cart",JSON.stringify(this.cart))},editCart:function(t,a){var e=this;this.cart.forEach((function(i,r){if(i.product.id===t.id){var n=i;n.quantity=a+1,e.quantity+=1,e.cart.splice(r,1,n)}})),localStorage.setItem("cart",JSON.stringify(this.cart))},addCartHandler:function(t,a){var e=this.cart.find((function(a){return a.product.id===t.id}));e?this.editCart(t,a):this.addCart(t)},getCartId:function(){var t=this,a=this.cart.find((function(a){return a.product.id===t.product.id}));this.quantity=a?a.quantity:1},getProduct:function(){var t=this;this.cart=JSON.parse(localStorage.getItem("cart"))||[],this.isLoading=!0,Object(n["c"])(this.$route.params.id).then((function(a){t.product=Object.freeze(a.data),t.isLoading=!1,t.getCartId()}))}}},g=h,b=Object(l["a"])(g,i,r,!1,null,null,null);a["default"]=b.exports},f183:function(t,a,e){var i=e("d012"),r=e("861d"),n=e("5135"),c=e("9bf2").f,u=e("90e3"),o=e("bb2f"),s=u("meta"),d=0,l=Object.isExtensible||function(){return!0},f=function(t){c(t,s,{value:{objectID:"O"+ ++d,weakData:{}}})},p=function(t,a){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!n(t,s)){if(!l(t))return"F";if(!a)return"E";f(t)}return t[s].objectID},h=function(t,a){if(!n(t,s)){if(!l(t))return!0;if(!a)return!1;f(t)}return t[s].weakData},g=function(t){return o&&b.REQUIRED&&l(t)&&!n(t,s)&&f(t),t},b=t.exports={REQUIRED:!1,fastKey:p,getWeakData:h,onFreeze:g};i[s]=!0},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},ff28:function(t,a,e){}}]);