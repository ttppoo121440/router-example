(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Products"],{"40d4":function(t,e,n){"use strict";var a=n("7f6a"),r=n.n(a);r.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),r=n("5899"),i="["+r+"]",s=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),c=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,n){var a=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var i,s;return r&&"function"==typeof(i=e.constructor)&&i!==n&&a(s=i.prototype)&&s!==n.prototype&&r(t,s),t}},"7db0":function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").find,i=n("44d2"),s=n("ae40"),o="find",c=!0,u=s(o);o in[]&&Array(1)[o]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!u},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(o)},"7f6a":function(t,e,n){},a9e3:function(t,e,n){"use strict";var a=n("83ab"),r=n("da84"),i=n("94ca"),s=n("6eeb"),o=n("5135"),c=n("c6b6"),u=n("7156"),l=n("c04e"),f=n("d039"),d=n("7c73"),p=n("241c").f,g=n("06cf").f,h=n("9bf2").f,v=n("58a8").trim,b="Number",m=r[b],P=m.prototype,C=c(d(P))==b,N=function(t){var e,n,a,r,i,s,o,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+u}for(i=u.slice(2),s=i.length,o=0;o<s;o++)if(c=i.charCodeAt(o),c<48||c>r)return NaN;return parseInt(i,a)}return+u};if(i(b,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var _,E=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof E&&(C?f((function(){P.valueOf.call(n)})):c(n)!=b)?u(new m(N(e)),n,E):N(e)},y=a?p(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;y.length>I;I++)o(m,_=y[I])&&!o(E,_)&&h(E,_,g(m,_));E.prototype=P,P.constructor=E,s(r,b,E)}},bb2f:function(t,e,n){var a=n("d039");t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},dca8:function(t,e,n){var a=n("23e7"),r=n("bb2f"),i=n("d039"),s=n("861d"),o=n("f183").onFreeze,c=Object.freeze,u=i((function(){c(1)}));a({target:"Object",stat:!0,forced:u,sham:!r},{freeze:function(t){return c&&s(t)?c(o(t)):t}})},f183:function(t,e,n){var a=n("d012"),r=n("861d"),i=n("5135"),s=n("9bf2").f,o=n("90e3"),c=n("bb2f"),u=o("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(t){s(t,u,{value:{objectID:"O"+ ++l,weakData:{}}})},p=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,u)){if(!f(t))return"F";if(!e)return"E";d(t)}return t[u].objectID},g=function(t,e){if(!i(t,u)){if(!f(t))return!0;if(!e)return!1;d(t)}return t[u].weakData},h=function(t){return c&&v.REQUIRED&&f(t)&&!i(t,u)&&d(t),t},v=t.exports={REQUIRED:!1,fastKey:p,getWeakData:g,onFreeze:h};a[u]=!0},f76a:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),n("h1",{staticClass:"text-center my-5 text-primary"},[t._v(" 產品列表 ")]),n("ProductsList",{staticClass:"mb-5",attrs:{data:t.productsList},on:{addCart:t.addCart,goProductPage:t.goProductPage}}),n("Pagination",t._b({directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],on:{ChangeNav:t.ChangeNav}},"Pagination",t.Pagination,!1))],1)},r=[],i=(n("7db0"),n("dca8"),n("7c15")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",[n("ul",{staticClass:"pagination"},[n("li",{staticClass:"page-item",class:{disabled:1===t.current}},[n("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.ChangeNav(t.current-1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.totalPages,(function(e,a){return n("li",{key:a,staticClass:"page-item"},[n("a",{staticClass:"page-link",class:{active:t.current===e},attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.ChangeNav(e)}}},[t._v(t._s(e))])])})),n("li",{staticClass:"page-item",class:{disabled:t.current===t.totalPages}},[n("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.ChangeNav(t.current+1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},o=[],c=(n("a9e3"),null),u={name:"Pagination",props:{current:{type:Number,required:!0},totalPages:{type:Number,required:!0}},mounted:function(){var t=this;window.addEventListener("scroll",this.backTop),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("scroll",t.backTop),c=null}))},methods:{toTop:function(){c=setInterval((function(){var t=document.documentElement.scrollTop||document.body.scrollTop,e=Math.floor(-t/5);document.body.scrollTop=0,document.documentElement.scrollTop=t+e,0===t&&clearInterval(c)}),25)},ChangeNav:function(t){this.toTop(),this.$emit("ChangeNav",t)}}},l=u,f=n("2877"),d=Object(f["a"])(l,s,o,!1,null,null,null),p=d.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("transition-group",{staticClass:"row mx-0 list",attrs:{name:"page",appear:"",tag:"div"}},t._l(t.data,(function(e){return n("div",{key:e.id,staticClass:"col-md-6 col-xl-4 col-lg-6 my-3"},[n("div",{staticClass:"list-item"},[n("div",{staticClass:"list-pic mb-2"},[n("img",{staticClass:"w-100 h-100",attrs:{src:e.imageUrl,alt:"list1"}})]),n("div",{staticClass:"list-content"},[n("h3",[t._v(" "+t._s(e.title)+" ")]),n("p",[t._v("售價："+t._s(t._f("filter")(e.price)))]),n("div",{staticClass:"list-btns"},[n("button",{staticClass:"btn mr-2",on:{click:function(n){return t.$emit("goProductPage",e.id)}}},[t._v(" 觀看更多 ")]),n("button",{staticClass:"btn mr-2",on:{click:function(n){return t.$emit("addCart",e)}}},[t._v(" 加入購物車 ")])])])])])})),0)],1)},h=[],v={name:"ProductsList",props:{data:{type:Array,required:!0}}},b=v,m=(n("40d4"),Object(f["a"])(b,g,h,!1,null,null,null)),P=m.exports,C={name:"Products",components:{ProductsList:P,Pagination:p},data:function(){return{productsList:[],isLoading:!1,currentPage:1,pageSize:25,totalPages:0,cart:[]}},computed:{Pagination:function(){return{"page-size":this.pageSize,"total-pages":this.totalPages,current:this.current}},total:function(){return this.productsList.length},current:{get:function(){return this.currentPage},set:function(t){t<1?this.currentPage=1:t>this.totalPages?this.currentPage=this.totalPages:this.currentPage=t}}},mounted:function(){this.getProductsList()},methods:{addCart:function(t){this.cart=JSON.parse(localStorage.getItem("cart"))||[];var e=this.cart.find((function(e){return e.product.id===t.id}));e?e.quantity+=1:this.cart.push({product:t,quantity:1}),localStorage.setItem("cart",JSON.stringify(this.cart))},ChangeNav:function(t){this.current=t,this.getProductsList(t)},getProductsList:function(t){var e=this;this.isLoading=!0,Object(i["b"])(t).then((function(t){e.productsList=Object.freeze(t.data.sort()),e.totalPages=t.meta.pagination.total_pages,e.isLoading=!1}))},goProductPage:function(t){this.$router.push("/Product/".concat(t))}}},N=C,_=Object(f["a"])(N,a,r,!1,null,null,null);e["default"]=_.exports}}]);